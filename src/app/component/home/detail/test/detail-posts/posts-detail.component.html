<form [formGroup]="formReply"></form>
<div class="mt-5" style="max-width: 1200px; margin: auto">
  <div class="row">
    <!--    Like, share, comment-->
    <div class="d-flex flex-column ant-col-1" style="position: fixed; margin-left: -50px">
      <div *ngFor="let item of dataLikePosts">
        <div *ngIf="item.userId == idUserLocalstorage && item.postId == idPostsLocalstorage">

          <div *ngIf="item.isLike == 1">
            <a *ngIf="isLike == true" style="font-size: 25px; color: #1890ff" (click)="handleUnLike()">
              <i nz-icon nzType="like" nzTheme="fill"></i></a>
            <a *ngIf="isLike == false" style="font-size: 25px" (click)="handleLike()">
              <i nz-icon nzType="like" nzTheme="outline"></i></a>
          </div>
          <!--      Unlike-->
          <div *ngIf="item.isLike == 0">
            <a *ngIf="isLike0 == false" style="font-size: 25px" (click)="handleLike()">
              <i nz-icon nzType="like" nzTheme="outline"></i></a>
            <a *ngIf="isLike0 == true" style="font-size: 25px; color: #1890ff" (click)="handleUnLike()">
              <i nz-icon nzType="like" nzTheme="fill"></i></a>
          </div>

          <!--          <div *ngIf="item.isLike == 1">-->
          <!--            <a style="font-size: 25px; color: #1890ff" (click)="handleUnLike()">-->
          <!--              <i nz-icon nzType="like" nzTheme="fill"></i></a>-->
          <!--          </div>-->
          <!--          &lt;!&ndash;      Unlike&ndash;&gt;-->
          <!--          <div *ngIf="item.isLike == 0 || item.isLike == null">-->
          <!--            <a style="font-size: 25px" (click)="handleLike()">-->
          <!--              <i nz-icon nzType="like" nzTheme="outline"></i></a>-->
          <!--          </div>-->
        </div>

        <!--        <div *ngIf="isExistUserId && item.postId != idPostsLocalstorage">-->
        <!--          <a style="font-size: 25px" (click)="handleLike()">-->
        <!--            <i nz-icon nzType="like" nzTheme="outline"></i></a>-->
        <!--        </div>-->

        <div *ngIf="item.userId != idUserLocalstorage && item.postId != idPostsLocalstorage">
          <a style="font-size: 25px" (click)="handleLike()">
            <i nz-icon nzType="like" nzTheme="outline"></i></a>
        </div>
      </div>

      <a style="font-size: 25px" (click)="focusTextAriaComment()"><i nz-icon nzType="comment" nzTheme="outline"></i></a>
      <a style="font-size: 25px"><i nz-icon nzType="star" nzTheme="outline"></i></a>
    </div>

    <!--    content - detail-->
    <div class="col-12 pr-4">
      <div *ngFor="let item of dataPosts">
        <div *ngIf="item.id == idPostsLocalstorage">
          <div class="test" innerHTML="{{item.contentDetail}}"></div>
        </div>
      </div>
    </div>

    <!--    right-content-->
    <!--    <div class="ant-col-8">-->
    <!--      <div class="mt-5">-->
    <!--        <div class="mb-5">-->
    <!--          <span style="font-size: 23px; font-weight: 600"> Tin hot</span>-->
    <!--        </div>-->
    <!--        <div class="mt-2 d-flex" style=";border-bottom: 1px solid #ccc">-->
    <!--          <div class="mb-3">-->
    <!--            <a><img style="max-width: 90px"-->
    <!--                    src="https://media.loveitopcdn.com/2360/hinh-dang-va-cau-tao-hat-ca-phe-nhan-robusta.jpg"/></a>-->
    <!--          </div>-->
    <!--          <div class="ml-2 mb-3" style="font-weight: 500; font-size: 14px">-->
    <!--            <span-->
    <!--              style="text-overflow: ellipsis; display: -webkit-box; overflow: hidden; -webkit-box-orient: vertical; -webkit-line-clamp: 3;">Testtttttttt Testttttttt Testtttttt Testttttt Testtttttt Testttttttt vvTesttttttttt Testtttttttt Testtttttttt Testtttttttt Testtttttttt</span>-->
    <!--          </div>-->
    <!--        </div>-->
    <!--      </div>-->

    <!--      <div class="mt-5">-->
    <!--        <div class="mb-5">-->
    <!--          <span style="font-size: 23px; font-weight: 600"> Tin Mới</span>-->
    <!--        </div>-->
    <!--        <div class="mt-2 d-flex" style=";border-bottom: 1px solid #ccc">-->
    <!--          <div class="mb-3">-->
    <!--            <a><img style="max-width: 90px"-->
    <!--                    src="https://media.loveitopcdn.com/2360/hinh-dang-va-cau-tao-hat-ca-phe-nhan-robusta.jpg"/></a>-->
    <!--          </div>-->
    <!--          <div class="ml-2 mb-3" style="font-weight: 500; font-size: 14px">-->
    <!--            <span-->
    <!--              style="text-overflow: ellipsis; display: -webkit-box; overflow: hidden; -webkit-box-orient: vertical; -webkit-line-clamp: 3;">Testtttttttt Testttttttt Testtttttt Testttttt Testtttttt Testttttttt vvTesttttttttt Testtttttttt Testtttttttt Testtttttttt Testtttttttt</span>-->
    <!--          </div>-->
    <!--        </div>-->
    <!--      </div>-->

    <!--      <div class="mt-5">-->
    <!--        <div class="mb-5">-->
    <!--          <span style="font-size: 23px; font-weight: 600">Tin liên quan</span>-->
    <!--        </div>-->
    <!--        <div class="mt-2 d-flex" style=";border-bottom: 1px solid #ccc">-->
    <!--          <div class="mb-3">-->
    <!--            <a><img style="max-width: 90px"-->
    <!--                    src="https://media.loveitopcdn.com/2360/hinh-dang-va-cau-tao-hat-ca-phe-nhan-robusta.jpg"/></a>-->
    <!--          </div>-->
    <!--          <div class="ml-2 mb-3" style="font-weight: 500; font-size: 14px">-->
    <!--            <span-->
    <!--              style="text-overflow: ellipsis; display: -webkit-box; overflow: hidden; -webkit-box-orient: vertical; -webkit-line-clamp: 3;">Testtttttttt Testttttttt Testtttttt Testttttt Testtttttt Testttttttt vvTesttttttttt Testtttttttt Testtttttttt Testtttttttt Testtttttttt</span>-->
    <!--          </div>-->
    <!--        </div>-->
    <!--      </div>-->

    <!--      &lt;!&ndash;      Thăm dò ý kiến&ndash;&gt;-->
    <!--      <div class="mt-5">-->
    <!--        <div class="mb-5">-->
    <!--          <span style="font-size: 23px; font-weight: 600">Khảo sát</span>-->
    <!--        </div>-->

    <!--        <div class="pl-4" style="background-color: #ccc; width: 90%; font-size: 16px">-->
    <!--          <div class="mb-3 mt-2 pt-2">-->
    <!--            <span style="font-size: 19px; font-weight: 500">Loại cafe bạn yêu thích nhất</span>-->
    <!--          </div>-->
    <!--          <div class="form-check d-flex align-items-center">-->
    <!--            <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1">-->
    <!--            <label class="form-check-label" for="flexRadioDefault1">-->
    <!--              robusta-->
    <!--            </label>-->
    <!--          </div>-->
    <!--          <div class="form-check d-flex align-items-center my-1">-->
    <!--            <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault2" checked>-->
    <!--            <label class="form-check-label" for="flexRadioDefault2">-->
    <!--              Arabica-->
    <!--            </label>-->
    <!--          </div>-->
    <!--          <div class="form-check d-flex align-items-center">-->
    <!--            <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault3" checked>-->
    <!--            <label class="form-check-label" for="flexRadioDefault3">-->
    <!--              Cherry-->
    <!--            </label>-->
    <!--          </div>-->
    <!--          <div class="d-flex mt-4">-->
    <!--            <div class="mr-4">-->
    <!--              <button type="button" class="btn btn-success">Gửi ý kiến</button>-->
    <!--            </div>-->
    <!--            <div>-->
    <!--              <button type="button" class="btn btn-primary">Xem kết quả</button>-->
    <!--            </div>-->
    <!--          </div>-->
    <!--          <div style="width: 100%" class="py-2">-->
    <!--              <span>-->
    <!--                Đã có 2000 người than gia-->
    <!--              </span>-->
    <!--          </div>-->
    <!--        </div>-->
    <!--      </div>-->

    <!--    </div>-->

    <div style="width: 100%" class="mt-2 mb-5">#hashtag</div>
    <div style="border: 2px solid #c3c3c3" class="ant-col-23 mb-5 mx-1">
      <div class="m-3">
        <div class="d-flex align-items-center mb-2">
          <i nz-icon nzType="comment" nzTheme="outline" class="mr-2" style="font-size: 20px"></i>
          <span style="font-size: 20px">Bình luận</span>
        </div>
        <form nz-form [formGroup]="formAdd">
          <div class="input-group">
          <textarea #textareaComment formControlName="commentText" placeholder="Bạn nghĩ gì về tin này"
                    class="form-control"
                    aria-label="With textarea"></textarea>
          </div>
          <div style="text-align: end" class="mt-3">
            <button type="button" class="btn btn-primary" (click)="handleSubmitComment()">Bình luận</button>
          </div>
          <div *ngFor="let itemComment of dataComment">
            <div *ngIf="itemComment.postId == idPostsLocalstorage">
              <div *ngFor="let itemUser of dataUser">
                <div *ngIf="itemUser.id == itemComment.userId">
                  <div class="mt-5 row">
                    <div class="col-1">
                      <a><img style="width: 100%; min-width: 45px; max-width: 45px; height: 45px; border-radius: 50%"
                              [src]="itemUser.image"/></a>
                    </div>
                    <div class="col-11">
                      <div>
                        <a style="font-size: 14px; font-weight: 500" class="mr-1" formControlName="name">
                          {{itemUser.name}}
                        </a>
                        <span style="font-size: 13px; font-weight: 400">13:49 ngày 24/10/2023</span>
                        <span style="font-size: 14px; font-weight: 400">{{itemComment.createdAt}}</span>
                      </div>
                      <div>
                        <div style="font-size: 14px" class="my-2">{{itemComment.commentText}}</div>
                      </div>
                      <div class="d-flex mb-3">
                        <div class="mr-2 ">
                          <a class="d-flex align-items-center">
                            <i nz-icon nzType="like" nzTheme="outline" class="mr-2"></i>
                            2 thích
                          </a>
                        </div>
                        <div style="border-left: 1px solid #c3c3c3" class="pl-2"
                             (click)="handleReplyComment(itemUser) ">
                          <a>Trả lời</a>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div *ngIf="isReplyComment">
            <div class="input-group">
              <textarea #textareaReply formControlName="commentReplyText" placeholder="Bạn nghĩ gì về tin này"
                        class="form-control"
                        aria-label="With textarea"></textarea>
            </div>
            <div style="text-align: end" class="mt-3">
              <button type="button" class="btn btn-primary" (click)="handleSubmitComment()">Bình luận</button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
<!--<app-notification [dataInfoUserNotification]="dataInfoUserNotification"></app-notification>-->
<!--<app-notification></app-notification>-->
